@implements IDialogContentComponent<InputLayersDialogParameters>

@if (Content.ResetCategory != null)
{
	<FluentToolbar>
		<FluentButton IconStart="@(new Icons.Regular.Size20.ArrowReset())" Title="Reset to Defaults" OnClick="@ResetToDefaults" />
	</FluentToolbar>
}

<FluentTabs>
	<FluentTab Label="Layer">
		<UIModelInput Inputs="@Content.Model.ToUIInputList()" Height="@Content.Height" Width="@Content.Width" Style="@Content.Style" />
	</FluentTab>
	<FluentTab Label="DataSource">
		<UIModelInput Inputs="@Content.Model.DataSource.ToUIInputList()" Height="@Content.Height" Width="@Content.Width" Style="@Content.Style" />
	</FluentTab>
</FluentTabs>

@code {
	[Parameter, EditorRequired]
	public InputLayersDialogParameters Content { get; set; }

	[CascadingParameter]
	public FluentDialog? Dialog { get; set; }

	private async Task ResetToDefaults()
	{
		Content.Model.ResetToDefaults(Content.ResetCategory!.Value);
	}
}
